<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>
<script>
    // 独立对象 ， 创建2个独立的对象 一个是 xiaowang 一个是xiaoli
    // 让 xiaoli 跟 xiaowang 通过门铃 进行通信 
    // 先看xiaowang 家有没有门 ，如果有门 ，直接敲门didi， 如果没有门， 先建设门
    // 两个单例开始通信

    var xiaowang = (function (argument) {
        var xiaowangjia = function (message) {
            this.menling = message
        }
        var men;
        var info = {
            sendMessage: function (message) {
                if (!men) { 
                    men = new xiaowangjia(message)
                }
                return men
            }
        }
        return info
    })()

    var xiaoli = {   //静态的，常驻到内存里
        callXiaowang: function (msg) {
            var _xw = xiaowang.sendMessage(msg)
            alert(_xw.menling)
            _xw = null //垃圾回收
        }
    }

xiaoli.callXiaowang('didi')

</script>
  
  <script>
       //页面上有四个按钮 a b c d 
        //a b => top
        //c d => banner
        var top ={
            init: function () {
                this.render()
                this.bind()
            },
            a: 4,
            render: function() {
                var me = this
                me.btna = $('#a')
            },
            bind: function () {
                var me = this
                me.btna.click(function() {
                    //业务逻辑
                    me.test()
                })
            },
            test: function() {
                a = 8
            }
        }


        var banner ={
            init: function () {
             this.render()
             this.bind()
            },
            a: 4,
            render: function() {
                var me = this
                me.btna = $('#c')
            },
            bind: function () {
                var me = this
                me.btna.click(function() {
                    //业务逻辑
                    me.test()
                })
            },
            test: function() {
                a = 10
            }
        }


    $('#a').click (function() {
        //逻辑特别多
        var a = 4
        //.....
    })
    $('#b').click (function() {
        //逻辑

    })
    $('#c').click (function() {
        //逻辑
    })
    $('#d').click (function() {
        //逻辑
    })

  </script>


</html>